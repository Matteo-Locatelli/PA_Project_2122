/*
 * MenuCompleto.cpp
 *
 *  Created on: 17 ago 2022
 *      Author: matte
 */

#include <iostream>
#include <cstdlib>
#include <string>
#include <sstream>
#include <ctime>
#include <memory>
#include <vector>
#include <list>

#include "MenuCompleto.h"

using namespace std;

MenuCompleto::MenuCompleto(utente_ref u, int prezzo , time_t data, Orario o,
		Primo primo, Secondo secondo, Contorno contorno, Dessert dessert, Caffe caffe) :
								Menu::Menu(u, prezzo, data, o),
								MenuPrimo::MenuPrimo(u, prezzo, data, o, primo, dessert, caffe),
								MenuSecondo::MenuSecondo(u, prezzo, data, o, secondo, contorno, caffe) {
	this->primo = primo;
	this->secondo = secondo;
	this->contorno = contorno;
	this->dessert = dessert;
	MenuPrimo::caffe = caffe;
	MenuSecondo::caffe = 'no';
}

MenuCompleto::MenuCompleto(menu_ref menu,
		Primo primo, Secondo secondo, Contorno contorno, Dessert dessert, Caffe caffe) :
								Menu::Menu(*menu),
								MenuPrimo::MenuPrimo(menu, primo, dessert, caffe),
								MenuSecondo::MenuSecondo(menu, secondo, contorno, caffe){
	this->primo = primo;
	this->secondo = secondo;
	this->contorno = contorno;
	this->dessert = dessert;
	MenuPrimo::caffe = caffe;
	MenuSecondo::caffe = 0;
}

string MenuCompleto::get_string(){
	stringstream streamer;

	streamer << Menu::get_string() << endl;

	streamer << "Primo: " << MenuPrimo::get_string_primo_from_enum(this->primo) << endl;
	streamer << "Dessert: " << MenuPrimo::get_string_dessert_from_enum(this->dessert) << endl;
	streamer << "Caffe: " << MenuPrimo::get_string_caffe_from_enum(MenuPrimo::caffe) << endl;
	streamer << "Secondo: " << MenuSecondo::get_string_secondo_from_enum(this->secondo) << endl;
	streamer << "Contorno: " << MenuSecondo::get_string_contorno_from_enum(this->contorno) << endl;
	streamer << "Caffe: " << MenuSecondo::get_string_caffe_from_enum(MenuSecondo::caffe) << endl;

	return streamer.str();
}

MenuCompleto::~MenuCompleto(){
	cout << "Elimino menu completo" <<endl;
}
